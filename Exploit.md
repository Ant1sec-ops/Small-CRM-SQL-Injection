# SQL Injection Vulnerability Report

## Affected Product

| **Attribute**         | **Details**                                                                 |
|-----------------------|-----------------------------------------------------------------------------|
| **Product Name**      | Small CRM                                                                   |
| **Vendor**            | PHPGurukul                                                                  |
| **Version**           | v4.0                                                                        |
| **Affected File**     | `Online_Shopping_Portal_project/shopping/track-orders.php`                  |
| **Affected Parameter**| `email`                                                                     |
| **Method**            | `POST`                                                                      |
| **Vulnerability Type**| SQL Injection Authentication Bypass                                         |

## Official Website

[PHPGurukul - Online Shopping Portal](https://phpgurukul.com/small-crm-php/)

## Vulnerability Overview

A SQL Injection vulnerability exists in the `email` parameter of **Small CRM v4.0**, allowing remote attackers to execute arbitrary SQL commands.

## Steps to Reproduce

1. **Access the Vulnerable URL:**
    ```
    http://192.168.137.162/crm/login.php
    ```
    ![Login Page](![loginURL](https://github.com/Ant1sec-ops/Small-CRM-SQL-Injection/blob/main/loginURL.png)
)

2. **Intercept the Request:**
   - Enable Burp Suite and set up the browser to route traffic through it
   - Send the request to Repeater for modification

3. **Modify the Parameter:**
   - Send the request to Burp Suite **Repeater** and modify the `email` parameter with:
     ```
     '%20or%201585%3d1585--%20
     ```
     ![Burp Repeater Modification](https://github.com/Ant1sec-ops/Small-CRM-SQL-Injection/blob/main/Payload.png)

4. **Send the Modified Request:**
   - Observe the delay in response time
   - The payload works because:
     - `OR 1585=1585` is always true
     - `--` comments out the rest of the query
     - This bypasses authentication

   ![Successful Exploit](https://github.com/Ant1sec-ops/Small-CRM-SQL-Injection/blob/main/Burp%20response.png)

   In browser, unauthenticated user gains CRM dashboard access:
   
   ![Dashboard Access](https://github.com/Ant1sec-ops/Small-CRM-SQL-Injection/blob/main/user%20dashboard.png)

## Impact

- **Data Theft:** Unauthorized access to sensitive data
- **Data Manipulation:** Modification/deletion of database records  
- **Credential Exposure:** Extraction of authentication details
- **Server Compromise:** Potential server exploitation
- **Reconnaissance:** Database structure enumeration
- **Financial Loss:** Service downtime and monetary impact  
- **Reputation Damage:** Loss of user trust

## Recommended Mitigations

- **Use Prepared Statements (Parameterized Queries)**
- **Sanitize User Inputs:** Validate and filter all inputs
- **Implement WAF (Web Application Firewall)**
- **Apply Principle of Least Privilege (PoLP)** for DB users
- **Regular Application Updates/Patching**  
- **Monitor Logs** for suspicious activities

For detailed guidelines: [OWASP SQL Injection Prevention Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html)
